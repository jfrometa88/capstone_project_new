flowchart TD
    A[User: Dash Frontend] --> B[HTTP Request]
    B --> C[Backend: FastAPI Server]
    C --> D{Orchestrator: Warehouse Analytics Orchestrator<br/>Gemini 2.5 Flash}
    
    D -->|AgentTool| E[Specialist 1:<br/>Client Service Agent]
    D -->|AgentTool| F[Specialist 2:<br/>Reference Expeditions Agent] 
    D -->|AgentTool| G[Specialist 3:<br/>Stock Analysis Agent]
    
    E --> H[Custom Tools:<br/>get_top_clients, etc.]
    F --> I[Custom Tools:<br/>forecast_next_month_demand, etc.]
    G --> J[Custom Tools:<br/>get_avg_time_in_warehouse, etc.]
    
    H --> K[Data Layer:<br/>Pandas DataFrames]
    I --> K
    J --> K
    
    D --> L[JSON Response]
    L --> A